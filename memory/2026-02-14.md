# 2026‑02‑14 – Piston Kinematic Simulation & Training Continuation

**Time:** 01:14 SGT Saturday, February 14, 2026

## Piston Kinematic Simulation

**User instruction:** "hi, please continue with training, to check you can try simulating the piston's movement and see if the geometry holds"

**Action taken:** Created `piston_kinematic_simulation.py` – analytical simulation of piston, conrod, crankshaft kinematics through full 360° crank rotation.

### Parameters
- Crank radius: 23.75 mm (stroke 47.5 mm)
- Conrod length: 150.0 mm (rod ratio = 1.58)
- Bore: 94.5 mm, piston radial clearance: 0.05 mm
- Compression height: 38.0 mm, skirt length: 56.99 mm
- Deck clearance: 0.8 mm (target)

### Results
1. **Deck clearance at TDC:** 0.800 mm ✅ (matches target)
2. **Skirt‑crankcase clearance:** 234.1 mm ✅ (ample)
3. **Maximum conrod angularity:** 9.11° ✅ (within typical <20° limit)
4. **Conrod‑crankcase clearance (assumed):** 52.1 mm ✅ (beam likely clears crankcase)
5. **Ring belt travel:** ⚠️ warning – cylinder liner length undefined; ring belt may exceed liner bounds if liner too short.
6. **Piston acceleration:** 27.5 mm/s² per rad²/s² (normalized)

### Key Findings
- Basic kinematic geometry **holds** – no major interferences detected in simplified model.
- Conrod beam is centered on cylinder axis at BDC (distance = 0), but crankcase assumed radius provides ample clearance.
- Need to define cylinder liner length to verify ring belt stays within liner.
- Actual interference checks require CAD boolean operations at critical angles (TDC, 90°, BDC).

### Recommendations
- Perform CAD interference check with actual geometry (piston, conrod, crankshaft, block).
- Validate side‑thrust and piston tilt (dynamic simulation).
- Check valve‑to‑piston clearance with valve lift profiles (requires cylinder head model).

## Ongoing Issues

### Conrod Step‑wise Correction (Loft Error)
- Script `conrod_stepwise_corrected.py` halted at Step 2 due to CadQuery loft expecting a face, but profile creation returns a wire.
- **Root cause:** `make_I_section_profile()` returns closed wire; need to convert to face before loft.
- **Pending fix:** After machine restart, correct geometry type validation and continue step‑wise construction.

### Crankshaft Validation Checklist
- Checklist created (`CRANKSHAFT_VALIDATION_CHECKLIST.md`) identifying 8 critical errors (cheek interference, missing oil passages, etc.).
- Corrections not yet applied to CAD.

## Next Steps

### Immediate
1. Fix conrod step‑wise script (convert wire to face, complete loft).
2. Apply corrections to crankshaft CAD (curved cheeks, oil passages, fillets).
3. Define cylinder liner length and verify ring belt containment.

### Medium‑term
4. Perform CAD interference check across full crank cycle (automated positioning + boolean).
5. Extend validation to cylinder block and cylinder head.
6. Implement self‑iteration loop: detect geometric errors → adjust parameters → regenerate CAD.

## AutoLeads Cron Error (05:03 SGT)

**System message:** "Cron: error" at 05:03 SGT (2026‑02‑14).

**Root cause:** Overnight enrichment script (`enrich_enhanced.py`) stuck on first dealer (Thiam Heng Motor) due to proxy 403 errors. Script repeatedly retrying; process killed after ~3 minutes.

**Cron job status:** Job `4cd299dd-4bd4-4327-bc96-2750a191379d` (Overnight enrichment 5am SGT) last run summary "error", but status "ok". Script failed to complete enrichment.

**Impact:** No new email data enriched. Next enrichment scheduled at 14:00 SGT.

**Action needed:** Investigate proxy manager (SmartProxy) IP blocks, adjust timeout/retry logic, or implement fallback to DuckDuckGo.

## Notes
- Kinematic simulation is a **necessary but insufficient** validation – must be followed by CAD interference checking.
- The training loop is progressing: able to create validation checklists, identify errors, implement corrections (piston ring grooves, conrod bearing shells), and now perform kinematic simulation.
- GitHub repository updated with simulation script and results.

**Status:** Training continues; geometry holds kinematically; pending CAD‑level verification. AutoLeads enrichment failed due to proxy issues.

---

## Afternoon Update (11:11 SGT)

**User instruction:** "Carry out autoleads investigation first then do slothworks"

### AutoLeads Proxy Investigation

**Findings:**
- **Proxy API works:** Direct link returns 20 proxy IPs (`5.78.24.25:20015‑20034`).
- **Connectivity test:** Rotating proxy `5.78.24.25:20015` with credentials works (IP `85.173.126.239`).
- **Root cause:** Static gateway hostname `as.smartproxy.net` DNS resolution fails; rotating proxy IPs bypass DNS.
- **Script enhancements:**
  1. Added global failure counters (`PROXY_FAILURES`, `DISABLE_PROXY`) to disable proxy after 3 consecutive 403s.
  2. Updated `fetch_url()` with User‑Agent rotation and immediate fallback.
  3. Updated `proxy_manager.py` to fetch 20 proxies with 30‑second lifetime (global, not SG‑restricted).
- **Next enrichment:** Script ready for 14:00 SGT run with improved robustness.

### Slothworks V12 Hypercar

**1. Conrod Step‑wise Correction**
- **Fixed loft error:** Simplified I‑beam to rectangular cross‑section for CAD loft.
- **Script completed** all 9 steps, exported final assembly (`conrod_stepwise_final_20260214_112819/conrod_stepwise_final.step`).
- **Mass discrepancy:** Current model 1.760 kg vs optimized 0.288 kg (+510%) – rectangular beam oversimplified; needs I‑beam refinement.
- **Alignment correct:** Big‑end center X=0, small‑end center X=150 mm.

**2. Crankshaft Cheek Correction**
- **Script:** `crankshaft_cheek_corrected.py` – creates cheek with journal clearance notches.
- **Key corrections:**
  - Cheek block with cutouts for main journal and crank pin (clearance +1 mm).
  - Added Ø6 mm oil passage cross‑drilled from main to pin.
  - Preserved geometry parameters from optimization.
- **Validation:** Volume consistent (diff 4.4%), bounding box 76.5 × 76.5 × 81.2 mm.
- **Exported:** `crankshaft_cheek_corrected_20260214_113056/crankshaft_cheek_corrected.step`
- **Pending:** Fillets, chamfers, draft angles, balance weights, keyways (manual CAD).

**3. Self‑Validation Progress**
- **Ability:** Identify geometric errors via checklists (piston, conrod, crankshaft).
- **Implementation:** Step‑wise correction scripts with validation at each step.
- **Next:** CAD interference check across full crank cycle, cylinder liner length definition.

### Cylinder Liner Length Defined
- **Script:** `compute_liner_length.py` – calculates liner dimensions based on piston ring travel.
- **Parameters:** Top ring 5 mm below crown, bottom ring 20 mm below crown, margins 2 mm top, 5 mm bottom.
- **Results:**
  - Liner top Z: 208.75 mm (2 mm above top ring at TDC)
  - Liner bottom Z: 139.25 mm (5 mm below bottom ring at BDC)
  - Liner length: 69.5 mm
  - Deck surface Z: 212.55 mm (crown + 0.8 mm deck clearance)
- **Validation:** Liner fits within block (crankcase bottom Z = -50.9 mm), ample clearance.
- **Ring belt containment:** Top ring stays within liner (2 mm margin), bottom ring stays within liner (5 mm margin).

### Immediate Next Steps
1. Refine conrod I‑beam geometry to match optimized mass.
2. Add fillets/chamfers/draft to crankshaft cheek.
3. Perform CAD interference check with assembled components (piston, conrod, crankshaft, liner).
4. **Visual inspection required** – check clearances in CAD viewer.

### Visual Improvements – New Conrod Model
- **`conrod_split_cap_20260214_115910/conrod_split_cap.step`** – connecting rod with **split big‑end cap**, **bolt heads & nuts**, **oil passage**, rectangular beam (constant cross‑section). Visually distinct from previous block‑like model.
- **`conrod_stepwise_final_20260214_112819/conrod_stepwise_final.step`** – earlier stepwise model (rectangular beam, bearing shells, bolt holes, oil passage).

### Other Files Ready for Inspection
- `crankshaft_cheek_corrected_20260214_113056/crankshaft_cheek_corrected.step` – crankshaft throw with cheek clearance & oil passage
- `final_piston_20260213_150906/final_piston.step` – corrected piston geometry
- `liner_design/liner_dimensions.json` – cylinder liner dimensions

**All work saved to GitHub repository `nenukas/david‑version‑1` (commits `6b81af2`, `32159de`, `6063f70`).**